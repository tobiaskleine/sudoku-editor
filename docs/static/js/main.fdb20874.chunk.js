(this["webpackJsonpsudoku-editor"]=this["webpackJsonpsudoku-editor"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),u=n(7),i=n.n(u),o=(n(14),n(6)),c=(n(15),n(5)),s=n.n(c),l=n(1),f=n(2),h=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"charToValue",value:function(e){return"0"===e||" "===e?null:e>="1"&&e<="9"?parseInt(e):e>="A"&&e<="Z"?e.charCodeAt(0)-65+10:"error"}},{key:"valueToChar",value:function(e){return null===e?" ":"error"===e?"!":e<10?""+e:String.fromCharCode(65+e-10)}}]),e}(),d=n(0);var v=function(e){var t=e.sudoku.data,n=e.characterMapping||new h,r=e.showHints;return Object(d.jsx)("div",{children:Object(d.jsx)("table",{className:s.a.table,children:t.map((function(e,t){return Object(d.jsx)("tr",{children:e.map((function(e,a){return Object(d.jsx)("td",{className:r&&r.getValue(t,a).isNew?s.a.isNew:"",children:n.valueToChar(e)},"sdrow"+t+"col"+a)}))},"sdrow"+t)}))})})},b=n(9),g=n(8);function p(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}var j=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"valuesRange",value:function(){for(var e=[],t=1;t<=this.length();t++)e.push(t);return e}},{key:"copy",value:function(){var e=this.data.map((function(e){return e.map((function(e){return e}))}));return new n(this.base,e)}},{key:"copySetElement",value:function(e,t,r){var a=this.data.map((function(n,a){return n.map((function(n,u){return e===a&&t===u?r:n}))}));return new n(this.base,a)}}]),n}(function(){function e(t,n){Object(l.a)(this,e),this.base=t,this.data=n}return Object(f.a)(e,[{key:"length",value:function(){return this.base*this.base}},{key:"baseRange",value:function(){return p(0,this.base-1)}},{key:"fieldRange",value:function(){return p(0,this.length()-1)}},{key:"boxesRange",value:function(){var e=this.baseRange();return e.flatMap((function(t){return e.map((function(e){return{ib:t,jb:e}}))}))}},{key:"boxFieldsFlatRange",value:function(){var e=this.baseRange();return e.flatMap((function(t){return e.map((function(e){return{ix:t,jx:e}}))}))}},{key:"copy",value:function(){var t=this.data.map((function(e){return e.map((function(e){return e}))}));return new e(this.base,t)}},{key:"copySetElement",value:function(t,n,r){var a=this.data.map((function(e,a){return e.map((function(e,u){return t===a&&n===u?r:e}))}));return new e(this.base,a)}},{key:"getValue",value:function(e,t){return this.data[e][t]}},{key:"getRow",value:function(e){return this.data[e]}},{key:"getColumn",value:function(e){return this.data.map((function(t){return t[e]}))}},{key:"getBox",value:function(e){for(var t=e.ib,n=e.jb,r=[],a=0;a<this.base;a++)for(var u=0;u<this.base;u++)r.push(this.data[t*this.base+a][n*this.base+u]);return r}},{key:"getBoxId",value:function(e){return{ib:Math.floor(e.i/this.base),jb:Math.floor(e.j/this.base)}}},{key:"getFieldCoordsByBoxIds",value:function(e,t){return{i:e.ib*this.base+t.ix,j:e.jb*this.base+t.jx}}},{key:"mapSudoku",value:function(t){for(var n=[],r=0;r<this.length();r++){for(var a=[],u=0;u<this.length();u++)a.push(t(this.data[r][u],r,u,this));n.push(a)}return new e(this.base,n)}},{key:"forEachField",value:function(e){for(var t=0;t<this.length();t++)for(var n=0;n<this.length();n++)if(!1===e(this.data[t][n],t,n,this))return}},{key:"reduceSudoku",value:function(e,t){for(var n=t,r=0;r<this.length();r++)for(var a=0;a<this.length();a++)n=e(this.data[r][a],r,a,this,n);return n}}]),e}()),m=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"readFromString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t||new h,r=e.split("\n").map((function(e){return e.split("").map((function(e){return n.charToValue(e)}))})),a=Math.sqrt(r.length);return new j(a,r)}}]),e}();var y=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"solve",value:function(e){var t=e.copy();return e.forEachField((function(e,n,r,a){var u=function(e,t,n,r){if("error"===e)return[e];if(null!==e)return[e];var a=r.getRow(t),u=r.getColumn(n),i=r.getBox(r.getBoxId({i:t,j:n}));return r.valuesRange().filter((function(e){return-1===a.indexOf(e)&&-1===u.indexOf(e)&&-1===i.indexOf(e)}))}(e,n,r,t);t=1===u.length?t.copySetElement(n,r,u[0]):0===u.length?t.copySetElement(n,r,"error"):t.copySetElement(n,r,null)})),t}}]),e}();function k(e,t,n,r){if("error"===e)return[e];if(null!==e)return[e];var a=r,u=a.getRow(t),i=a.getColumn(n),o=a.getBox(a.getBoxId({i:t,j:n}));return a.valuesRange().filter((function(e){return-1===u.indexOf(e)&&-1===i.indexOf(e)&&-1===o.indexOf(e)}))}function O(e,t){var n=-1,r=!0;return t.forEach((function(t,a){if(t.indexOf(e)>=0&&(r=r&&t.length>1&&-1===n,n=a,!r))return!1})),r?n:-1}var x=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"solve",value:function(e){var t=e.mapSudoku(k);console.log("sdPoss",t);var n=e.copy(),r=e.fieldRange(),a=e.fieldRange(),u=e.boxesRange(),i=e.valuesRange();r.forEach((function(e){var r=t.getRow(e);i.forEach((function(a){var u=O(a,r);u>=0&&(n=n.copySetElement(e,u,a),t.copySetElement(e,u,[a]))}))})),a.forEach((function(e){i.forEach((function(r){var a=O(r,t.getColumn(e));a>=0&&(n=n.copySetElement(a,e,r),t.copySetElement(a,e,[r]))}))}));var o=n.boxFieldsFlatRange();return u.forEach((function(e){i.forEach((function(r){var a=O(r,t.getBox(e));if(a>=0){var u=t.getFieldCoordsByBoxIds(e,o[a]);n=n.copySetElement(u.i,u.j,r)}}))})),n}}]),e}();var S=function(){var e="000280000\n004100008\n083000200\n030000700\n200518009\n005000040\n009000620\n700005400\n000061000",t=new y,n=new x,a=Object(r.useState)(m.readFromString(e)),u=Object(o.a)(a,2),i=u[0],c=u[1],s=Object(r.useState)(m.readFromString(e)),l=Object(o.a)(s,2),f=l[0],h=l[1],b=i.mapSudoku((function(e,t,n,r){return{isNew:null!==e&&null===f.getValue(t,n)}}));return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App-header"}),Object(d.jsxs)("div",{children:[Object(d.jsx)(v,{sudoku:i,showHints:b}),Object(d.jsx)("button",{onClick:function(){h(i),c(t.solve(i))},children:"Solve (direct)"}),Object(d.jsx)("button",{onClick:function(){h(i),c(n.solve(i))},children:"Solve (unique)"})]})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,u=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),u(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root")),w()},5:function(e,t,n){e.exports={table:"SudokuGrid_table__3GesE",isNew:"SudokuGrid_isNew__32Oe4"}}},[[17,1,2]]]);
//# sourceMappingURL=main.fdb20874.chunk.js.map